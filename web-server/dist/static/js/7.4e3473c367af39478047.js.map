{"version":3,"sources":["webpack:///src/pages/Admin/Children/AdminGoods.vue","webpack:///./src/pages/Admin/Children/AdminGoods.vue?9127","webpack:///./src/pages/Admin/Children/AdminGoods.vue"],"names":["AdminGoods","data","category","currentIndex","pageSize","tableData","tempData","mounted","this","getAllGoods","methods","handleEdit","index","row","console","log","window","localStorage","setItem","stringify_default","$router","replace","handleDelete","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee2","wrap","_context2","prev","next","$confirm","confirmButtonText","cancelButtonText","type","then","_callee","_context","Object","api","goods_id","sent","success_code","$message","message","stop","catch","handleCurrentChange","val","_this2","forEach","push","_this3","_callee3","result","_context3","computed","pageNum","Math","ceil","length","filters","priceFormat","price","toFixed","Children_AdminGoods","render","_vm","_h","$createElement","_c","_self","staticStyle","width","attrs","scopedSlots","_u","key","fn","props","staticClass","label-position","inline","label","_v","_s","short_name","_f","counts","goods_name","src","thumb_url","prop","size","on","click","$event","$index","background","layout","page-count","current-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/7.4e3473c367af39478047.js","sourcesContent":["<template>\n  <div>\n    <el-table\n      :data=\"tempData\"\n      style=\"width: 100%\">\n      <el-table-column type=\"expand\">\n        <template slot-scope=\"props\">\n          <el-form label-position=\"left\" inline class=\"demo-table-expand\">\n            <el-form-item label=\"商品名称\">\n              <span>{{ props.row.short_name }}</span>\n            </el-form-item>\n            <el-form-item label=\"商品 ID\">\n              <span>{{ props.row.goods_id }}</span>\n            </el-form-item>\n            <el-form-item label=\"商品分类\">\n              <span>{{ category[props.row.category - 1] }}</span>\n            </el-form-item>\n            <el-form-item label=\"商品价格\">\n              <span>{{ (props.row.price / 100) | priceFormat}}</span>\n            </el-form-item>\n            <el-form-item label=\"商品库存\">\n              <span>{{ props.row.counts }}</span>\n            </el-form-item>\n            <el-form-item label=\"商品描述\">\n              <span>{{ props.row.goods_name }}</span>\n            </el-form-item>\n            <el-form-item label=\"商品图片\">\n              <img :src=\"props.row.thumb_url\" style=\"width:70px\"/>\n            </el-form-item>\n          </el-form>\n        </template>\n      </el-table-column>\n      <el-table-column\n        label=\"商品 ID\"\n        prop=\"goods_id\">\n      </el-table-column>\n      <el-table-column\n        label=\"商品名称\"\n        prop=\"short_name\">\n      </el-table-column>\n      <el-table-column\n        label=\"描述\"\n        prop=\"goods_name\">\n      </el-table-column>\n      <el-table-column label=\"操作\">\n        <template slot-scope=\"props\">\n          <el-button\n            size=\"mini\"\n            @click=\"handleEdit(props.$index, props.row)\">编辑</el-button>\n          <el-button\n            size=\"mini\"\n            type=\"danger\"\n            @click=\"handleDelete(props.$index, props.row)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-pagination\n      background\n      layout=\"prev, pager, next\"\n      :page-count=\"pageNum\"\n      @current-change=\"handleCurrentChange\">\n    </el-pagination>\n  </div>\n</template>\n\n<script>\n  import {getAllgoods,deleteRecomGoods} from './../../../api/index';\n  import {mapState} from 'vuex';\n  import {mapActions} from 'vuex'\n\n  export default {\n    data() {\n      return {\n        category: ['图书、音像','家居生活','服饰、箱包','电子产品','美食宝典'],\n        currentIndex: 1,\n        pageSize: 5,\n        tableData: [],\n        tempData: [],\n      }\n    },\n    mounted(){\n      this.getAllGoods();\n    },\n    methods: {\n      handleEdit(index, row) {\n        console.log(index, row);\n        window.localStorage.setItem('goodsInfo',JSON.stringify(row));\n        this.$router.replace('/admin/adminupdate');\n      },\n      async handleDelete(index, row) {\n        this.$confirm('您确定永久删除该商品吗?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then( async() => {\n\t\t  let result = await deleteRecomGoods(row.goods_id);\n          if(result.success_code === 200){\n            this.$message({\n              type: 'success',\n              message: '已删除'\n            });\n          }\n        }).catch(() => {\n          this.$message({\n            type: 'info',\n            message: '已取消删除'\n          });\n        });\n      },\n      handleCurrentChange(val) {\n        this.currentIndex = val;\n        this.tempData = [];\n        this.tableData.forEach((data,index)=>{\n          if(index >= (this.currentIndex-1) * this.pageSize && index < (this.currentIndex) * this.pageSize){\n            this.tempData.push(data);\n          }\n        });\n      },\n      async getAllGoods(){\n        let result = await getAllgoods();\n        if(result.success_code === 200){\n          this.tableData = result.message;\n          this.tableData.forEach((data,index)=>{\n            if(index >= (this.currentIndex-1) * this.pageSize && index < (this.currentIndex) * this.pageSize){\n              this.tempData.push(data);\n            }\n          });\n        }\n      },\n    },\n    computed: {\n      pageNum(){\n        return Math.ceil(this.tableData.length / this.pageSize);\n      }\n    },\n    filters: {\n      priceFormat(price) {\n        return price.toFixed(2);\n      },\n    },\n  }\n</script>\n\n<style scoped>\n  .el-table{\n    margin: 20px auto 50px;\n  }\n  .demo-table-expand {\n    font-size: 0;\n  }\n  .demo-table-expand label {\n    width: 90px;\n    color: #99a9bf;\n  }\n  .demo-table-expand .el-form-item {\n    margin-right: 0;\n    margin-bottom: 0;\n    width: 50%;\n  }\n  .el-pagination{\n    text-align: center;\n  }\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/pages/Admin/Children/AdminGoods.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tempData}},[_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('el-form',{staticClass:\"demo-table-expand\",attrs:{\"label-position\":\"left\",\"inline\":\"\"}},[_c('el-form-item',{attrs:{\"label\":\"商品名称\"}},[_c('span',[_vm._v(_vm._s(props.row.short_name))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品 ID\"}},[_c('span',[_vm._v(_vm._s(props.row.goods_id))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品分类\"}},[_c('span',[_vm._v(_vm._s(_vm.category[props.row.category - 1]))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品价格\"}},[_c('span',[_vm._v(_vm._s(_vm._f(\"priceFormat\")((props.row.price / 100))))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品库存\"}},[_c('span',[_vm._v(_vm._s(props.row.counts))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品描述\"}},[_c('span',[_vm._v(_vm._s(props.row.goods_name))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品图片\"}},[_c('img',{staticStyle:{\"width\":\"70px\"},attrs:{\"src\":props.row.thumb_url}})])],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商品 ID\",\"prop\":\"goods_id\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商品名称\",\"prop\":\"short_name\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"描述\",\"prop\":\"goods_name\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleEdit(props.$index, props.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(props.$index, props.row)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"page-count\":_vm.pageNum},on:{\"current-change\":_vm.handleCurrentChange}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d776d7f6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/Admin/Children/AdminGoods.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d776d7f6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AdminGoods.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AdminGoods.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AdminGoods.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d776d7f6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AdminGoods.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d776d7f6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Admin/Children/AdminGoods.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}