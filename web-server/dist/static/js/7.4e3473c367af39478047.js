webpackJsonp([7],{"7Ygk":function(e,t){},sX5g:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Xxa5"),r=a.n(n),o=a("exGp"),s=a.n(o),c=a("mvHQ"),l=a.n(c),i=a("gyMJ"),u=(a("NYxO"),{data:function(){return{category:["图书、音像","家居生活","服饰、箱包","电子产品","美食宝典"],currentIndex:1,pageSize:5,tableData:[],tempData:[]}},mounted:function(){this.getAllGoods()},methods:{handleEdit:function(e,t){console.log(e,t),window.localStorage.setItem("goodsInfo",l()(t)),this.$router.replace("/admin/adminupdate")},handleDelete:function(e,t){var a=this;return s()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.$confirm("您确定永久删除该商品吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(s()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.l)(t.goods_id);case 2:200===e.sent.success_code&&a.$message({type:"success",message:"已删除"});case 4:case"end":return e.stop()}},e,a)}))).catch(function(){a.$message({type:"info",message:"已取消删除"})});case 1:case"end":return e.stop()}},e,a)}))()},handleCurrentChange:function(e){var t=this;this.currentIndex=e,this.tempData=[],this.tableData.forEach(function(e,a){a>=(t.currentIndex-1)*t.pageSize&&a<t.currentIndex*t.pageSize&&t.tempData.push(e)})},getAllGoods:function(){var e=this;return s()(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.n)();case 2:200===(a=t.sent).success_code&&(e.tableData=a.message,e.tableData.forEach(function(t,a){a>=(e.currentIndex-1)*e.pageSize&&a<e.currentIndex*e.pageSize&&e.tempData.push(t)}));case 4:case"end":return t.stop()}},t,e)}))()}},computed:{pageNum:function(){return Math.ceil(this.tableData.length/this.pageSize)}},filters:{priceFormat:function(e){return e.toFixed(2)}}}),d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tempData}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"商品名称"}},[a("span",[e._v(e._s(t.row.short_name))])]),e._v(" "),a("el-form-item",{attrs:{label:"商品 ID"}},[a("span",[e._v(e._s(t.row.goods_id))])]),e._v(" "),a("el-form-item",{attrs:{label:"商品分类"}},[a("span",[e._v(e._s(e.category[t.row.category-1]))])]),e._v(" "),a("el-form-item",{attrs:{label:"商品价格"}},[a("span",[e._v(e._s(e._f("priceFormat")(t.row.price/100)))])]),e._v(" "),a("el-form-item",{attrs:{label:"商品库存"}},[a("span",[e._v(e._s(t.row.counts))])]),e._v(" "),a("el-form-item",{attrs:{label:"商品描述"}},[a("span",[e._v(e._s(t.row.goods_name))])]),e._v(" "),a("el-form-item",{attrs:{label:"商品图片"}},[a("img",{staticStyle:{width:"70px"},attrs:{src:t.row.thumb_url}})])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"商品 ID",prop:"goods_id"}}),e._v(" "),a("el-table-column",{attrs:{label:"商品名称",prop:"short_name"}}),e._v(" "),a("el-table-column",{attrs:{label:"描述",prop:"goods_name"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-count":e.pageNum},on:{"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]};var p=a("VU/8")(u,d,!1,function(e){a("7Ygk")},"data-v-d776d7f6",null);t.default=p.exports}});
//# sourceMappingURL=7.4e3473c367af39478047.js.map